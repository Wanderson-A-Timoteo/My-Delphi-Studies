unit classe.relatorios;

interface

uses
  FireDAC.Comp.Client, classe_conexao, System.SysUtils, Vcl.Forms,
  Datasnap.DBClient;

type
  TRelatorios = class

  private
    FConexao: TFDConnection;
    Fcli_id_cliente: Integer;
    Fhr_hora: String;
    Fpro_id_profissional: Integer;
    Fid_agendamento: Integer;
    Fds_obs: String;
    Fdt_data: TDate;
    Fusu_id_usuarios: Integer;


  public
    property Conexao             : TFDConnection read FConexao       write FConexao;
    property id_agendamento      : Integer read Fid_agendamento      write Fid_agendamento;
    property cli_id_cliente      : Integer read Fcli_id_cliente      write Fcli_id_cliente;
    property pro_id_profissional : Integer read Fpro_id_profissional write Fpro_id_profissional;
    property usu_id_usuarios     : Integer read Fusu_id_usuarios     write Fusu_id_usuarios;
    property dt_data             : TDate   read Fdt_data             write Fdt_data;
    property hr_hora             : String  read Fhr_hora             write Fhr_hora;
    property ds_obs              : String  read Fds_obs              write Fds_obs;

    constructor Create (Conexao  : TFDConnection);
    destructor Destroy; Override;

    function fnc_consulta(id_profissional: Integer; Data: TDate): TFDQuery;
    function fnc_consultar_por_cliente(NomeCliente: String): TFDQuery;
    function fnc_validar_agendamento(id_profissional: Integer; Data: TDate; hr_hora: String): Boolean;
    function fnc_inserir : String;

    procedure fnc_montar_agenda(dt_data : TDate; cds_agenda : TClientDataSet);
    procedure prc_deleta(id_chave: Integer);

end;


implementation

end.
